<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<record id="hr_contract_view_form_psi" model="ir.ui.view">
		<field name="name">hr.contract.form.psi</field>
		<field name="model">hr.contract</field>
		<field name="inherit_id" ref="hr_contract.hr_contract_view_form" />
		<field name="arch" type="xml">

			<field name="type_id" position='replace'>

				<field name="type_id" invisible="1" />
			</field>

			<field name="working_hours" position="before">
				<field name="work_years" />
			</field>

			<xpath expr="//field[@name='department_id']" position='after'>
				<field name="psi_contract_type" />
				<field name="place_of_work" />
			</xpath>
			<xpath expr="//notebook" position="inside">
				<page string="Séparation – événements">
					<group>

						<field name="employment_termination" />
						<button name="set_employee_inactif" 
								type="object" 
								string="Mettre inactif cet employé"
								class="oe_highlight"
								attrs="{'invisible': [('employment_termination','=',False)]}"
								/>

					</group>
				</page>
			</xpath>
			<group name="duration_group" position="after">
				<group name="rupture" string="Rupture de contrat">
					<field name="date_rupture" />
					<field name="motif_rupture" />
				</group>
			</group>
		</field>
	</record>

	<!-- Resume and Letters -->
	<record id="hr_contract.ir_attachment_view_search_inherit_hr_employee"
		model="ir.ui.view">
		<field name="name">ir.attachment.search.inherit.contract</field>
		<field name="model">ir.attachment</field>
		<field name="mode">primary</field>
		<field name="inherit_id" ref="base.view_attachment_search" />
		<field name="arch" type="xml">
			<xpath expr="//field[@name='create_date']" position="after">
				<field name="index_content" string="Content" />
			</xpath>
			<xpath expr="//filter[@name='my_documents_filter']" position="attributes">
				<attribute name='invisible'>1</attribute>
			</xpath>
			<xpath expr="//filter[@name='url_filter']" position="attributes">
				<attribute name='invisible'>1</attribute>
			</xpath>
			<xpath expr="//filter[@name='binary_filter']" position="attributes">
				<attribute name='invisible'>1</attribute>
			</xpath>
		</field>
	</record>

	<!-- TODO: What is this ??? -->
	<record model="ir.actions.act_window" id="hr_contract_resumes">
		<field name="name">Resumes and Letters</field>
		<field name="res_model">ir.attachment</field>
		<field name="view_type">form</field>
		<field name="view_mode">kanban,tree,form</field>
		<field name="view_id" ref="mail.view_document_file_kanban" />
		<field name="search_view_id"
			ref="hr_contract.ir_attachment_view_search_inherit_hr_employee" />
		<field name="domain">[('res_model','=','hr.employee')]</field>
		<field name="context">{'create': False}</field>
		<field name="help" type="html">
			<p>
				No document yet.
			</p>
			<p>
				This menu helps you search through resumes and motivation
				letters.
				Odoo automatically indexes .PDF, .DOC, DOCX, .TXT
				files so that you
				can search keywords from the content of these
				files.
			</p>
		</field>
	</record>

	<record id="hr_contract_form_view_wage_grids" model="ir.ui.view">
		<field name="name">hr.wage.grid.form</field>
		<field name="model">hr.wage.grid</field>
		<field name="arch" type="xml">
			<form string="form grille salariale">
				<field name="wage_grid_details">
					<tree string="Wage Grid Details" editable="bottom" create="false" delete="false">
						<field name="psi_professional_category" />
						<field name="name" />
						<field name="psi_category" />
						<field name="psi_sub_category" />
						<field name="echelon_1" />
						<field name="echelon_2" />
						<field name="echelon_3" />
						<field name="echelon_4" />
						<field name="echelon_5" />
						<field name="echelon_6" />
						<field name="echelon_7" />
						<field name="echelon_8" />
						<field name="echelon_9" />
						<field name="echelon_10" />
						<field name="echelon_11" />
						<field name="echelon_12" />
						<field name="echelon_13" />
						<field name="echelon_14" />
						<field name="echelon_15" />
						<field name="echelon_16" />
						<field name="echelon_17" />
						<field name="echelon_18" />
						<field name="echelon_19" />
						<field name="echelon_20" />
						<field name="echelon_hc" />
					</tree>
				</field>
			</form>
		</field>
	</record>
	
	   <record id="hr_contract_kanban_view_wage_grids" model="ir.ui.view">
        <field name="name">hr.wage.grid.kanban</field>
        <field name="model">hr.wage.grid</field>
        <field name="priority">10</field>
        <field name="arch" type="xml">
            <kanban class="o_hr_employee_kanban">
                <templates>
                    <t t-name="kanban-box">
                    <div class="oe_kanban_global_click">
                        
                        <div class="o_kanban_image">
                            
                            <div class="o_employee_summary_icons">
                                <span class='oe_kanban_mail_new' title='Unread Messages'><i class='fa fa-comments'/></span>
                                <span title='Messages'><i class='fa fa-comments'/></span>
                                <span title='Followers'><i class='fa fa-users'/></span>
                            </div>
                        </div>
                        <div class="oe_kanban_details">
                            <strong>
                                <field name="name"/>
                            </strong>
                            <ul>
                                <li id="last_login"/>
                                <li ></li>
                                <li ></li>
                                <li ><i class="fa fa-envelope"></i> </li>
                                <li ><i class="fa fa-phone"></i> </li>
                                <li ><i class="fa fa-mobile"></i></li>
                            </ul>
                          
                        </div>
                    </div>
                    </t>
                </templates>
            </kanban>

        </field>
    </record>
	
	<record id="open_contract_wage_grid" model="ir.actions.act_window">
            <field name="name">Grille Salariale</field>
            <field name="res_model">hr.wage.grid</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="view_id" eval="False"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                 Grille Salariale
              </p>
            </field>
        </record>

	<menuitem id="menu_contract_wage_grid" action="open_contract_wage_grid"
		parent="hr.menu_hr_root" sequence="5" />

</odoo>
