<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<!-- Template email - desactivate flottes -->
		<record id="template_desactivate_flottes_id" model="mail.template">
			<field name="name">PSI Template email - demande désactivation
			</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Rappel de demande désactivation flottes</field>
			<field name="email_to">admin@test.ts</field>
			<field name="body_html"><![CDATA[
		<div>
		    <p>
		      	Bonjour, Veuillez désactiver les flottes de l'employée ${object.employee_id.name}
		     	                     
			</p>
			<h5> Email - Demande de désactivation de flottes</h5>
		                 
		</div>   ]]>
			</field>
		</record>
		
		<!-- Template email - desactivation compte -->
		<record id="template_desactivate_account_id" model="mail.template">
			<field name="name">PSI Template email - desactivation compte
			</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Désactivation de compte</field>
			<field name="email_to">it@test.ts</field>
			<field name="body_html"><![CDATA[
		<div>
		    <p>
		      	Bonjour,
		        Bonjour, Veuillez désactiver tous les comptes (email,....) de l'employée ${object.employee_id.name}                      
			</p>
			<h5> Email - rappel Désactivation compte</h5>
		                 
		</div>   ]]>
			</field>
		</record>
		
		<!-- Template email - rappel sur collaborateur -->
		<record id="template_collaborator_id" model="mail.template">
			<field name="name">PSI Template email - rappel sur collaborateur
			</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Rappel de suivi d'anniversaire</field>
			<field name="email_to">${object.employee_id.work_email}</field>
			<field name="body_html"><![CDATA[
		<div>
		    <p>
		      	Bonjour,
		     	Il faut mettre à jour la déclaration conflit d’intérêt (par an), l’attestation de cours d’éthique (tous les 2 ans).                      
			</p>
			<h5> Email - rappel Collaborateur</h5>
		                 
		</div>   ]]>
			</field>
		</record>
		<!-- Template email - rappel sur rh -->
		<record id="template_rh_id" model="mail.template">
			<field name="name">PSI Template email - rappel sur rh</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Rappel de suivi d'anniversaire de l'employée
				${object.name}
			</field>
			<field name="email_to">psi.rh@yopmail.com</field>
			<field name="body_html"><![CDATA[
		<div>
		    <p>
		      	Bonjour,
		     	Il faut mettre à jour la déclaration conflit d’intérêt (par an), l’attestation de cours d’éthique (tous les 2 ans).                      
			</p>
			<h5> Email - rappel Collaborateur</h5>
		                 
		</div>   ]]>
			</field>
		</record>
		<!-- Template email - rappel sur rh -->
		<record id="template_rh_id" model="mail.template">
			<field name="name">PSI Template email - rappel sur rh</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Rappel de suivi d'anniversaire de l'employée
				${object.name}
			</field>
			<field name="email_to">psi.rh@yopmail.com</field>
			<field name="body_html"><![CDATA[
		<div>
		    <p>
		      	Bonjour,

		     	- Suivi des mises à jour à faire par l’employé ${object.name} 
		     	- Vérification de Bridger à faire
		     	- Augmentation d’échelon à appliquer                       
			</p>
			<h5> Email - rappel sur RH</h5>
		                 
		</div>   ]]>
			</field>
		</record>
		<!-- Premier rappel à la RH (pièces manquantes) -->
		<record id="hr_contract_psi.custom_template_rappel_hr_missing_pieces"
			model="mail.template">
			<field name="name">PSI Template email contrat - Premier rappel à la RH
			</field>
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Rappel pour l'enregistrement du profil de
				${object.name} - RH</field>
			<field name="email_to">${object.employee_id.coach_id.email}</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="body_html"><![CDATA[
			<br\>
			<h2>(R7.) Rappel - enregistrement du profil du collaborateur / complétude </h2>
			<p>Un premier rappel doit être fait à la RH (Superviseur RH)
			15 jrs après le début du contrat si le dossier n’est pas complet (cf R.2)</p>
			<p>Et au collaborateur par mail avec la liste des pièces manquantes</p>	
			]]></field>
		</record>
		<!-- Premier rappel au Collaborateur + pièces manquantes -->
		<record id="hr_contract_psi.custom_template_rappel_collab_missing_pieces"
			model="mail.template">
			<field name="name">PSI Template email contrat - Rappel collab + pieces
				manquantes
			</field>
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Rappel pour l'enregistrement du profil de
				${object.name}</field>
			<field name="email_to">${object.employee_id.work_email}</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="auto_delete" eval="True" />
			<field name="body_html"><![CDATA[
			<br\>
			<h2>Rappel - enregistrement du profil du collaborateur / complétude </h2>
			
			<h5>Pièces manquantes :</h5>
			<ul>
			% if not object.employee_id.personal_information:
				<li>Fiche de renseignements personnels</li> 
			% endif
			% if not object.employee_id.id_photos:
				<li>Photos d'identité</li>
			% endif
			% if not object.employee_id.certificate_residence:
				<li>Certificat de résidence</li>
			% endif
			% if not object.employee_id.marriage_certificate:
				<li>Acte de mariage ou copie de livret de famille</li>
			% endif
			% if not object.employee_id.cin:
				<li>Copie CIN</li>
			% endif
			% if not object.employee_id.work_certificate:
				<li>Copies Certificats de travail</li>
			% endif
			% if not object.employee_id.qualifications:
				<li>Copies Diplômes</li>
			% endif
			% if not object.employee_id.criminal_records:
				<li>Casier judiciaires</li>
			% endif
			% if not object.employee_id.card_cnaps:
				<li>Copie Cartes CNAPS</li>
			% endif
			% if not object.employee_id.birth_certificate_children:
				<li>Acte de naissances des enfants </li>
			% endif
			% if not object.employee_id.ethics_course_certificate:
				<li>Certificat du cours d'éthique</li>
			% endif
			</ul>	
			]]></field>
		</record>
		<!-- Template email - fin période d'essai -->
		<record id="hr_contract_psi.custom_template_trial_date_end"
			model="mail.template">
			<field name="name">PSI Template email contrat - fin période d'essai
			</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Rappel fin periode d'essai de ${object.name}
			</field>
			<!-- <field name="email_to"> ${object.user_id.email} </field> -->
			<field name="email_to">${object.work_email}</field>
			<field name="email_to">${object.coach_id.work_email}</field>
			<!-- <field name="email_cc"> ${object.user_id.parent_id.email} </field> -->
			<!-- <field name="reply_to"> preferred Reply address</field> -->
			<field name="body_html"><![CDATA[
		<div>
		    <p>
		      	Bonjour ${object.employee_id.name},
		    </p>
		      	<p> Categorie professionnel : ${object.job_id.psi_professional_category} </p>
			<h5> Email - fin période d'essai dans un mois</h5>
		                 
		</div>   ]]>
			</field>
		</record>
		<!-- Template email - fin contrat -->
		<record id="hr_contract_psi.custom_template_end_contract"
			model="mail.template">
			<field name="name">PSI Template email contrat - fin contrat</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Rappel fin contrat de ${object.name}</field>
			<!-- <field name="email_to"> ${object.user_id.email} </field> -->
			<field name="email_to">${object.employee_id.work_email}</field>
			<!-- <field name="email_to">${object.employee_id.coach_id.work_email or 
				'n/a'}</field> -->
			<field name="body_html"><![CDATA[
		<div>
		    <p>
		      	Bonjour,                      
			</p>
			<p>JOB : ${object.job_id.name}</p>
			<h5>Fin du contrat de ${object.employee_id.name} dans un mois</h5>
		</div>   ]]>
			</field>
		</record>
		
		<!--Email template evaluation test ok-->
		<record id="email_template_for_result_evaluation_ok" model="mail.template">
			<field name="name">Evaluation - Resultat test evaluation si OK</field>
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Resultat évaluation de ${object.employee_id.name}
			</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_to">${object.employee_id.work_email}</field>
			<field name="body_html"><![CDATA[
			<p>Bonjour ${object.employee_id.name}
			</br>
			<p>Resultat fin essai - OK</p>
			<p>Vous trouverez en pièce jointe ...]]>
			</field>
		</record>
		
		<!--Email template evaluation test ko-->
		<record id="email_template_for_result_evaluation_ko" model="mail.template">
			<field name="name">Evaluation - Resultat test evaluation si KO</field>
			<field name="email_from">${object.create_uid.email}</field>
			<field name="subject">Resultat évaluation de ${object.employee_id.name}
			</field>
			<field name="model_id" ref="hr_contract_psi.model_hr_contract" />
			<field name="email_to">${object.employee_id.work_email}</field>
			<field name="body_html"><![CDATA[
			<p>Bonjour ${object.employee_id.name}
			</br>
			<p>Vous êtes invité à renouveler la période d'essai pour le poste de ${object.job_id.name}</p>
			<p>Invitation renouvelement essai</p>
			<p>Vous trouverez en pièce jointe le ...]]>
			</field>
		</record>
	</data>
</odoo>