<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record id="hr_hr_employee_view_form_psi" model="ir.ui.view">
			<field name="name">hr.hr.employee.view.form.psi</field>
			<field name="model">hr.employee</field>
			<field name="inherit_id" ref="hr.view_employee_form" />
			<field name="arch" type="xml">

				<div name="button_box" position="inside">
					<button name="action_get_attachment_tree_view" class="oe_stat_button"
						icon="fa-book" type="object">
						<field name="attachment_number" widget="statinfo" string="Documents"
							modifiers="{'readonly': true}" />
					</button>
				</div>

				<xpath expr="//field[@name='identification_id']" position='before'>
					<field name="information_cin_id" />
				</xpath>
				<xpath expr="//field[@name='gender']" position='replace'>
					<field name="gender" invisible="1" />
				</xpath>
				<xpath expr="//field[@name='marital']" position='before'>
					<field name="sexe" />
				</xpath>
				<xpath expr="//field[@name='address_home_id']" position='before'>
					<field name="personal_phone" />
					<field name="father_name" />
					<field name="mother_name" />
					<field name="spouse_s_name" />
					<field name="psi_contract_type" invisible="1"/>
				</xpath>
				<xpath expr="//field[@name='address_home_id']" position='after'>
					<field name="information_about_children_id" />
					<field name="emergency_contact_id" />
					<field name="beneficiary_of_death_benefit_id" />
				</xpath>

				<notebook>
					<page string="Pièces à fournir">
						<group>
							<field name="state" invisible="1" />
							<field name="personal_information" />
							<field name="id_photos" />
							<field name="certificate_residence" />
							<field name="marriage_certificate" />
							<field name="cin" />
							<field name="work_certificate" />
							<field name="qualifications" />
							<field name="criminal_records" />
							<field name="card_cnaps" />
							<field name="birth_certificate_children" />
							<field name="ethics_course_certificate" />
						</group>
					</page>
					<page string="Sanctions">
						<group>
							<field name="sanctions_data" nolabel="1">
								<tree string="" editable="bottom">
									<field name="sanction_date" />
									<field name="sanction_type_id" />
									<field name="sanction_objet" />
									<field name="sanction_date_effacement" />
									<field name="sanction_commentaire" />
								</tree>
							</field>
						</group>
					</page>
					<page string="Bridger">
						<group>
							<field name="psi_bridger_insight" nolabel="1">
								<tree string="" editable="bottom">
									<field name="date" />
									<field name="result" />
								</tree>
							</field>
						</group>
					</page>
				</notebook>

				<!-- Collaborator close - READONLY -->
				<field name='name' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='category_ids' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='address_id' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>

				<field name='mobile_phone' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='work_location' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='work_email' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='work_phone' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='department_id' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='job_id' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='parent_id' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='notes' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='coach_id' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='calendar_id' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='notes' position="attributes">
					<attribute name="attrs">{'readonly':[('state','=','close')]}
					</attribute>
				</field>
				<field name='job_id' position="after">
					<field name="psi_budget_code_distribution" />
				</field>
			</field>
		</record>

	
		<record id="hr_contract_type_view_form" model="ir.ui.view">
			<field name="name">hr.contract.type.sanction.form</field>
			<field name="model">hr.contract.type.sanction</field>
			<field name="arch" type="xml">
				<form string="Liste des sanctions">
					<group col="4">
						<field colspan="4" name="name" />
					</group>
				</form>
			</field>
		</record>

		<record id="hr_contract_sanction_view_tree" model="ir.ui.view">
			<field name="name">hr.contract.type.sanction.tree</field>
			<field name="model">hr.contract.type.sanction</field>
			<field name="arch" type="xml">
				<tree string="Liste des sanctions">
					<field colspan="4" name="name" />
				</tree>
			</field>
		</record>

		<!-- ACTIONS -->
		<record id="action_hr_contract_type_sanction" model="ir.actions.act_window">
			<field name="name">Liste des sanctions</field>
			<field name="res_model">hr.contract.type.sanction</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="hr_contract_sanction_view_tree" />
		</record>

	<record id="hr_contract_sanction_view_tree" model="ir.ui.view">
		<field name="name">hr.contract.type.sanction.tree</field>
		<field name="model">hr.contract.type.sanction</field>
		<field name="arch" type="xml">
			<tree string="Liste des sanctions">
				<field colspan="4" name="name" />
			</tree>
		</field>
	</record>
	
 	<!--Search in hr.employee-->
	<record id="hr_employee_filter_inherit" model="ir.ui.view">
            <field name="name">hr.employee.filter.inherit</field>
            <field name="model">hr.employee</field>
			<field name="inherit_id" ref="hr.view_employee_filter" />
            <field name="arch" type="xml">
                <xpath expr="filter[@name='message_needaction']" position="after">
                	<filter string="Profil non complet"
                        domain="[('all_files_checked','=',False)]"/>
                        <filter string="Profil complet"
                        domain="[('all_files_checked','=',True)]"/> 
                  <xpath expr="//field[@name='department_id']" position="after">
                <filter string="CDD vs CDI" icon="terp-personal+" domain="[]" context="{'group_by':'psi_contract_type'}" />
            </xpath>
                </xpath>
            </field>
    </record>



		<!-- MENUS -->
		<menuitem id="hr_menu_contract_type_sanction" action="action_hr_contract_type_sanction"
			parent="hr.menu_hr_root" sequence="4" />
	</data>
</odoo>
